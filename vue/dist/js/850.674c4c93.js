"use strict";(self["webpackChunkvue"]=self["webpackChunkvue"]||[]).push([[850],{7850:function(e,o,r){r.r(o),r.d(o,{default:function(){return u}});var t=function(){var e=this,o=e._self._c;return o("div",{staticStyle:{width:"100%"}},[e._m(0),o("el-form",{ref:"ruleForm",attrs:{inline:!0,model:e.form,rules:e.rules,"label-width":"100px"}},[o("el-form-item",{attrs:{label:"图书编号",prop:"bookNo"}},[o("el-select",{attrs:{clearable:"",filterable:"",placeholder:"请选择图书编号"},on:{change:e.selBook},model:{value:e.form.bookNo,callback:function(o){e.$set(e.form,"bookNo",o)},expression:"form.bookNo"}},e._l(e.books,(function(e){return o("el-option",{key:e.id,attrs:{label:e.bookNo,value:e.id}})})),1)],1),o("el-form-item",{attrs:{label:"书名",prop:"bookName"}},[o("el-input",{attrs:{disabled:""},model:{value:e.form.bookName,callback:function(o){e.$set(e.form,"bookName",o)},expression:"form.bookName"}})],1),o("el-form-item",{attrs:{label:"所需积分",prop:"score"}},[o("el-input",{attrs:{disabled:""},model:{value:e.form.score,callback:function(o){e.$set(e.form,"score",o)},expression:"form.score"}})],1),o("el-form-item",{attrs:{label:"图书数量",prop:"score"}},[o("el-input",{attrs:{disabled:""},model:{value:e.form.nums,callback:function(o){e.$set(e.form,"nums",o)},expression:"form.nums"}})],1),o("br"),o("el-form-item",{attrs:{label:"用户ID",prop:"userId"}},[o("el-select",{attrs:{clearable:"",filterable:"",placeholder:"请选择用户ID"},on:{change:e.selUser},model:{value:e.form.userId,callback:function(o){e.$set(e.form,"userId",o)},expression:"form.userId"}},e._l(e.users,(function(e){return o("el-option",{key:e.id,attrs:{label:e.cardID,value:e.id}})})),1)],1),o("el-form-item",{attrs:{label:"用户姓名",prop:"userName"}},[o("el-input",{attrs:{disabled:""},model:{value:e.form.userName,callback:function(o){e.$set(e.form,"userName",o)},expression:"form.userName"}})],1),o("el-form-item",{attrs:{label:"用户联系电话",prop:"userPhone"}},[o("el-input",{attrs:{disabled:""},model:{value:e.form.userPhone,callback:function(o){e.$set(e.form,"userPhone",o)},expression:"form.userPhone"}})],1),o("el-form-item",{attrs:{label:"用户账户余额",prop:"account"}},[o("el-input",{attrs:{disabled:""},model:{value:e.form.account,callback:function(o){e.$set(e.form,"account",o)},expression:"form.account"}})],1)],1),o("div",{staticStyle:{"text-align":"center","margin-top":"40px"}},[o("el-button",{attrs:{type:"primary",size:"medium"},on:{click:e.save}},[e._v("提交")])],1)],1)},s=[function(){var e=this,o=e._self._c;return o("div",{staticStyle:{padding:"0 20px"}},[o("h3",[e._v("编辑用户")])])}],a=(r(4114),r(5067)),l={name:"EditBorrow",data(){const e=(e,o,r)=>{/^[1][3,4,5,6,7,8,9][0-9]{9}$/.test(o)||r(new Error("该手机号不合法")),r()};return{form:{},rules:{name:[{required:!0,message:"请输入书名",trigger:"blur"}],phone:[{validator:e,trigger:"blur"}]}}},methods:{save(){a.A.put("/borrow/update",this.form).then((e=>{"200"==e.code?(this.$notify.success("修改成功"),this.$router.push("/borrowList")):this.$notify.error(e.msg)}))},selBook(){const e=this.books.find((e=>e.bookNo=this.form.bookNo));a.A.get("/book/"+e.id).then((e=>{this.form.bookName=e.data.name,this.form.score=e.data.score,this.form.nums=e.data.nums}))},selUser(){const e=this.users.find((e=>e.cardID=this.form.userId));a.A.get("/user/"+e.id).then((e=>{this.form.userName=e.data.name,this.form.userPhone=e.data.phone,this.form.score=e.data.account}))}}},n=l,i=r(1656),m=(0,i.A)(n,t,s,!1,null,"1cff26eb",null),u=m.exports}}]);
//# sourceMappingURL=850.674c4c93.js.map